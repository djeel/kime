import{g,b as N,af as y,k as v,r as w,j as e,C as c,c as n,d as x,f as o,e as d,ag as b,B as h}from"./index-mjEV0DEk.js";import{P as k}from"./PageContainer-UeT_hR_D.js";import{A as C}from"./award-rmq1NMA0.js";import{F as P}from"./flame-C9r6UAfc.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=g("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function A(){var p;const{t:s}=N(),j=y(),m=v(),t=(p=j.state)==null?void 0:p.stats,a=w.useMemo(()=>{if(!t||!t.total)return null;const i=t.total?(t.completed||0)/t.total:0;let r="exercise.rating.ok";i===1?r="exercise.rating.perfect":i>=.75?r="exercise.rating.great":i>=.5?r="exercise.rating.good":r="exercise.rating.low";const u=t.total*10,l=Math.round(u*1.25),f=t.xpGained&&l?Math.min(100,Math.round(t.xpGained/l*100)):0;return{ratio:i,ratingKey:r,maxPotential:l,xpPct:f}},[t]);return e.jsxs(k,{title:s("exercise.sessionComplete","Session complete"),className:"space-y-8 min-w-0 stagger-children",children:[e.jsxs("div",{className:"flex flex-col items-center text-center gap-3 mt-4",children:[e.jsx(S,{className:"h-14 w-14 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold font-space-grotesk tracking-tight",children:s("exercise.sessionComplete","Session complete")}),e.jsx("p",{className:"text-muted-foreground max-w-prose",children:t?s("exercise.wellDone","Great work â€“ session saved!"):s("exercise.noDataMessage","No exercises found for this session")})]}),t&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(c,{variant:"subtle",className:"relative overflow-hidden",children:[e.jsxs(n,{className:"pb-2",children:[e.jsxs(x,{size:"sm",className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 text-primary"})," XP"]}),e.jsx(o,{children:s("exercise.performance","Performance")})]}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"text-4xl font-bold leading-none",children:["+",t.xpGained]}),a&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full h-2 bg-muted/40 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${a.xpPct}%`}})}),e.jsxs("p",{className:"text-xs text-muted-foreground flex justify-between",children:[e.jsxs("span",{children:[a.xpPct,"%"]}),e.jsxs("span",{children:[s("exercise.maxPotential","Max")," ",a.maxPotential]})]})]}),t.skipped===0&&t.completed?e.jsx("p",{className:"text-xs text-emerald-400 font-medium",children:s("exercise.perfectBonus","Perfect bonus applied!")}):t.completed===0?e.jsx("p",{className:"text-xs text-amber-400 font-medium",children:s("exercise.allSkipped","All skipped: minimal XP")}):null]})]}),e.jsxs(c,{variant:"subtle",children:[e.jsxs(n,{className:"pb-2",children:[e.jsxs(x,{size:"sm",className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-4 w-4 text-primary"})," ",s("exercise.summary","Summary")]}),e.jsx(o,{children:s("exercise.output","Output")})]}),e.jsxs(d,{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("exercise.completed","Completed")}),e.jsxs("span",{className:"font-medium",children:[t.completed,"/",t.total]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("exercise.skipped","Skipped")}),e.jsx("span",{children:t.skipped})]}),a&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("exercise.completionRate","Completion")}),e.jsxs("span",{children:[Math.round(a.ratio*100),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("exercise.totalXp","Total XP")}),e.jsx("span",{children:t.totalXp})]})]})]}),e.jsxs(c,{variant:"subtle",children:[e.jsxs(n,{className:"pb-2",children:[e.jsxs(x,{size:"sm",className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-primary"})," ",s("exercise.streak","Streak")]}),e.jsx(o,{children:s("exercise.consistency","Consistency")})]}),e.jsxs(d,{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("exercise.current","Current")}),e.jsx("span",{className:"font-medium",children:t.currentStreak})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("exercise.best","Best")}),e.jsx("span",{children:t.bestStreak})]}),e.jsx("div",{className:"pt-2 text-xs text-muted-foreground",children:s("exercise.keepGoing","Keep the momentum!")})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:justify-center pt-2",children:[e.jsx(h,{onClick:()=>m("/workouts"),className:"sm:flex-1 btn-primary-premium",children:s("exercise.startAnother","Start another")}),e.jsx(h,{variant:"outline",onClick:()=>m("/progress"),className:"sm:flex-1",children:s("exercise.viewProgress","View progress")})]})]})}export{A as default};
